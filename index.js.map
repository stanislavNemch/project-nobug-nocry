{"version":3,"file":"index.js","sources":["../src/js/furniture-api.js","../src/js/1-navbar.js","../src/js/3-product.js"],"sourcesContent":["// Імпортуємо axios та iziToast\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Основний адрес API\nexport const BASE_URL = 'https://furniture-store.b.goit.study/api';\n\n// Список всіх ендпоінтів (адрес для запитів)\nexport const ENDPOINTS = {\n  FURNITURES: '/furnitures', // для отримання меблів\n  CATEGORIES: '/categories', // для отримання категорій\n  ORDERS: '/orders', // для створення замовлень\n  FEEDBACKS: '/feedbacks', // для отримання відгуків\n};\n\n// Налаштування axios\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// 1. Отримати список меблів\nexport async function getFurnitures(page = 1, limit = 10) {\n  try {\n    const response = await api.get(ENDPOINTS.FURNITURES, {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити меблі. Спробуйте пізніше.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 2. Отримати всі категорії\nexport async function getCategories() {\n  try {\n    const response = await api.get(ENDPOINTS.CATEGORIES);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message:\n        'Не вдалося завантажити категорії. Перевірте підключення до інтернету.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 3. Отримати відгуки\nexport async function getFeedbacks(page = 1, limit = 10) {\n  try {\n    const response = await api.get(ENDPOINTS.FEEDBACKS, {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити відгуки. Спробуйте оновити сторінку.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 4. Створити нове замовлення\nexport async function createOrder(orderInfo) {\n  try {\n    const response = await api.post(ENDPOINTS.ORDERS, orderInfo);\n\n    // Показуємо успішне сповіщення\n    iziToast.success({\n      title: 'Успіх!',\n      message:\n        \"Замовлення успішно створено. Ми зв'яжемося з вами найближчим часом.\",\n      position: 'topRight',\n      timeout: 4000,\n    });\n\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка замовлення',\n      message:\n        'Не вдалося створити замовлення. Перевірте дані та спробуйте ще раз.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n","(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n  const burgerIcon = openMenuBtn.querySelector('use');\n  const menuLinks = mobileMenu.querySelectorAll('.nav-link, .mobile-order-btn');\n\n  const toggleMenu = () => {\n    const isMenuOpen = mobileMenu.classList.contains('is-open');\n\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n\n    // Заміна іконок\n    if (mobileMenu.classList.contains('is-open')) {\n      burgerIcon.setAttribute('href', './img/sprite.svg#icon-close');\n      openMenuBtn.setAttribute('aria-label', 'Закрити мобільне меню');\n    } else {\n      burgerIcon.setAttribute('href', './img/sprite.svg#icon-burger');\n      openMenuBtn.setAttribute('aria-label', 'Перемикач мобільного меню');\n    }\n\n    // Блокування/розблокування скролла\n    document.body.classList.toggle('no-scroll');\n  };\n\n  // Відкриття та закриття за кнопками\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  // Закриття меню при натисканні на посилання\n  menuLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      if (mobileMenu.classList.contains('is-open')) {\n        toggleMenu();\n      }\n    });\n  });\n\n  // Закриття меню при зміні орієнтації на робочий стіл\n  window.matchMedia('(min-width: 1440px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    if (!mobileMenu.classList.contains('is-open')) return;\n\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    // Повертаємо іконку бургера під час закриття через медіа-запит.\n    burgerIcon.setAttribute('href', './img/sprite.svg#icon-burger');\n    openMenuBtn.setAttribute('aria-label', 'Перемикач мобільного меню');\n    document.body.classList.remove('no-scroll');\n  });\n})();\n","import {\n  getFurnitures\n} from './furniture-api.js';\n\n\nfunction createProductsList (functions = getFurnitures(1, 8)) {\n    const productsList = document.querySelector('.products-list');\n\n    // Очистка списка, если нужно\n    functions.then(data => {\n        // Если getFurnitures возвращает объект с полем furnitures\n        const furnitures = data.furnitures || data; // на всякий случай\n\n        if (furnitures && furnitures.length) {\n            furnitures.forEach(furniture => {\n                const productItem = document.createElement('div');\n                productItem.className = 'product-item';\n                productItem.setAttribute('data-id', furniture._id);\n                productItem.innerHTML = `\n                    <img src=\"${furniture.images[0]}\" alt=\"${furniture.name}\" class=\"img-card\" width=\"100%\" height=\"256px\" />\n                    <p class=\"text-card\">${furniture.name}</p>\n                    <div class=\"colors\">\n                      ${furniture.color.map(c => `<span class=\"color-one\" style=\"background-color:${c};\"></span>`).join('')}\n                    </div>\n                    <p class=\"text-card\">${furniture.price} грн</p>\n                    <button class=\"btn btn-go-modal\">Детальніше</button>\n                `;\n                productsList.appendChild(productItem);\n            });\n        } else {\n            productsList.innerHTML = '<p>Товари не знайдені.</p>';\n        }\n    }).catch(error => {\n        console.error('Помилка завантаження товарів:', error);\n        productsList.innerHTML = '<p>Помилка завантаження товарів.</p>';\n    });\n}\n\naddEventListener('DOMContentLoaded', () => {\n    createProductsList();\n});\n\n"],"names":["BASE_URL","ENDPOINTS","api","axios","getFurnitures","page","limit","iziToast","mobileMenu","openMenuBtn","closeMenuBtn","burgerIcon","menuLinks","toggleMenu","isMenuOpen","link","e","createProductsList","functions","productsList","data","furnitures","furniture","productItem","c","error"],"mappings":"6vBAMO,MAAMA,EAAW,2CAGXC,EAAY,CACvB,WAAY,cACZ,WAAY,cACZ,OAAQ,UACR,UAAW,YACb,EAGMC,EAAMC,EAAM,OAAO,CACvB,QAASH,EACT,QAAS,CACP,eAAgB,kBACjB,CACH,CAAC,EAGM,eAAeI,EAAcC,EAAO,EAAGC,EAAQ,GAAI,CACxD,GAAI,CAIF,OAHiB,MAAMJ,EAAI,IAAID,EAAU,WAAY,CACnD,OAAQ,CAAE,KAAAI,EAAM,MAAAC,CAAO,CAC7B,CAAK,GACe,IACjB,MAAe,CACd,OAAAC,EAAS,MAAM,CACb,MAAO,UACP,QAAS,mDACT,SAAU,WACV,QAAS,GACf,CAAK,EACM,IACR,CACH,ECxCC,IAAM,CACL,MAAMC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAaF,EAAY,cAAc,KAAK,EAC5CG,EAAYJ,EAAW,iBAAiB,8BAA8B,EAEtEK,EAAa,IAAM,CACvB,MAAMC,EAAaN,EAAW,UAAU,SAAS,SAAS,EAE1DC,EAAY,aAAa,gBAAiB,CAACK,CAAU,EACrDN,EAAW,UAAU,OAAO,SAAS,EAGjCA,EAAW,UAAU,SAAS,SAAS,GACzCG,EAAW,aAAa,OAAQ,6BAA6B,EAC7DF,EAAY,aAAa,aAAc,uBAAuB,IAE9DE,EAAW,aAAa,OAAQ,8BAA8B,EAC9DF,EAAY,aAAa,aAAc,2BAA2B,GAIpE,SAAS,KAAK,UAAU,OAAO,WAAW,CAC9C,EAGEA,EAAY,iBAAiB,QAASI,CAAU,EAChDH,EAAa,iBAAiB,QAASG,CAAU,EAGjDD,EAAU,QAAQG,GAAQ,CACxBA,EAAK,iBAAiB,QAAS,IAAM,CAC/BP,EAAW,UAAU,SAAS,SAAS,GACzCK,GAER,CAAK,CACL,CAAG,EAGD,OAAO,WAAW,qBAAqB,EAAE,iBAAiB,SAAUG,GAAK,CAClEA,EAAE,SACFR,EAAW,UAAU,SAAS,SAAS,IAE5CA,EAAW,UAAU,OAAO,SAAS,EACrCC,EAAY,aAAa,gBAAiB,EAAK,EAE/CE,EAAW,aAAa,OAAQ,8BAA8B,EAC9DF,EAAY,aAAa,aAAc,2BAA2B,EAClE,SAAS,KAAK,UAAU,OAAO,WAAW,EAC9C,CAAG,CACH,GAAI,EC9CJ,SAASQ,EAAoBC,EAAYd,EAAc,EAAG,CAAC,EAAG,CAC1D,MAAMe,EAAe,SAAS,cAAc,gBAAgB,EAG5DD,EAAU,KAAKE,GAAQ,CAEnB,MAAMC,EAAaD,EAAK,YAAcA,EAElCC,GAAcA,EAAW,OACzBA,EAAW,QAAQC,GAAa,CAC5B,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAY,eACxBA,EAAY,aAAa,UAAWD,EAAU,GAAG,EACjDC,EAAY,UAAY;AAAA,gCACRD,EAAU,OAAO,CAAC,CAAC,UAAUA,EAAU,IAAI;AAAA,2CAChCA,EAAU,IAAI;AAAA;AAAA,wBAEjCA,EAAU,MAAM,IAAIE,GAAK,mDAAmDA,CAAC,YAAY,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,2CAEhFF,EAAU,KAAK;AAAA;AAAA,kBAG1CH,EAAa,YAAYI,CAAW,CACpD,CAAa,EAEDJ,EAAa,UAAY,4BAErC,CAAK,EAAE,MAAMM,GAAS,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EACpDN,EAAa,UAAY,sCACjC,CAAK,CACL,CAEA,iBAAiB,mBAAoB,IAAM,CACvCF,GACJ,CAAC"}