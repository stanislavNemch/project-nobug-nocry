{"version":3,"file":"index.js","sources":["../src/js/furniture-api.js","../src/js/1-navbar.js","../src/js/3-product.js","../src/js/popular-products.js","../src/js/5-faq.js","../src/js/6-reviews.js","../src/js/order.js","../src/img/sprite.svg","../src/js/modal.js"],"sourcesContent":["// Імпортуємо axios та iziToast\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Основний адрес API\nexport const BASE_URL = 'https://furniture-store.b.goit.study/api';\n\n// Список всіх ендпоінтів (адрес для запитів)\nexport const ENDPOINTS = {\n  FURNITURES: '/furnitures', // для отримання меблів\n  CATEGORIES: '/categories', // для отримання категорій\n  ORDERS: '/orders', // для створення замовлень\n  FEEDBACKS: '/feedbacks', // для отримання відгуків\n};\n\n// Налаштування axios\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// 1. Отримати список меблів\nexport async function getFurnitures(page = 1, limit = 10, category) {\n  try {\n    const response = await api.get(ENDPOINTS.FURNITURES, {\n      params: { page, limit, category },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити меблі. Спробуйте пізніше.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 1.1. Отримати одну конкретну позицію меблів за ID (перебір по сторінках)\nexport async function getFurnitureById(id) {\n  try {\n    let page = 1;\n    const limit = 30; // Максимальний ліміт\n    let totalItems = 0;\n    let totalPages = 0;\n\n    do {\n      const response = await api.get(ENDPOINTS.FURNITURES, {\n        params: { page, limit },\n      });\n\n      const data = response.data;\n      const furnitures = data.furnitures || data;\n\n      // При першому запиті отримуємо загальну кількість товарів\n      if (page === 1) {\n        totalItems = data.totalItems || 0;\n        totalPages = Math.ceil(totalItems / limit);\n      }\n\n      // Шукаємо товар з потрібним ID на поточній сторінці\n      const furniture = furnitures.find(item => item._id === id);\n\n      if (furniture) {\n        return furniture;\n      }\n\n      page++;\n    } while (page <= totalPages);\n\n    // Якщо товар не знайдено після перебору всіх сторінок\n    iziToast.warning({\n      title: 'Увага',\n      message: 'Товар з таким ID не знайдено.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  } catch (error) {\n    console.error('Помилка при пошуку товару:', error);\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити інформацію про товар.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 2. Отримати всі категорії\nexport async function getCategories() {\n  try {\n    const response = await api.get(ENDPOINTS.CATEGORIES);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message:\n        'Не вдалося завантажити категорії. Перевірте підключення до інтернету.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 3. Отримати відгуки\nexport async function getFeedbacks(page = 1, limit = 10) {\n  try {\n    const response = await api.get(ENDPOINTS.FEEDBACKS, {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити відгуки. Спробуйте оновити сторінку.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 4. Створити нове замовлення\nexport async function createOrder(orderInfo) {\n  try {\n    const response = await api.post(ENDPOINTS.ORDERS, orderInfo);\n\n    // Показуємо успішне сповіщення\n    iziToast.success({\n      title: 'Успіх!',\n      message:\n        \"Замовлення успішно створено. Ми зв'яжемося з вами найближчим часом.\",\n      position: 'topRight',\n      timeout: 4000,\n    });\n\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка замовлення',\n      message:\n        'Не вдалося створити замовлення. Перевірте дані та спробуйте ще раз.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// 5. Отримати популярні товари\nexport async function getPopularFurnitures() {\n  try {\n    const response = await api.get(ENDPOINTS.FURNITURES, {\n      params: { type: 'popular' },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити популярні товари. Спробуйте пізніше.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n","(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const burgerIcon = openMenuBtn.querySelector('use');\n  const menuLinks = mobileMenu.querySelectorAll('.nav-link, .mobile-order-btn');\n\n  // Отримуємо базовий шлях до спрайту з існуючого елемента\n  const getSpritePath = () => {\n    const currentHref = burgerIcon.getAttribute('href');\n    return currentHref.split('#')[0]; // Забираємо #icon-назву, залишаємо шлях\n  };\n\n  const closeMenu = () => {\n    const spritePath = getSpritePath();\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    burgerIcon.setAttribute('href', `${spritePath}#icon-burger`);\n    openMenuBtn.setAttribute('aria-label', 'Перемикач мобільного меню');\n    document.body.classList.remove('no-scroll');\n  };\n\n  const openMenu = () => {\n    const spritePath = getSpritePath();\n    mobileMenu.classList.add('is-open');\n    openMenuBtn.setAttribute('aria-expanded', true);\n    burgerIcon.setAttribute('href', `${spritePath}#icon-close`);\n    openMenuBtn.setAttribute('aria-label', 'Закрити мобільне меню');\n    document.body.classList.add('no-scroll');\n  };\n\n  const toggleMenu = () => {\n    const isMenuOpen = mobileMenu.classList.contains('is-open');\n\n    if (isMenuOpen) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  };\n\n  // Відкриття та закриття за кнопкою\n  openMenuBtn.addEventListener('click', toggleMenu);\n\n  // Закриття меню при натисканні на посилання\n  menuLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      if (mobileMenu.classList.contains('is-open')) {\n        closeMenu();\n      }\n    });\n  });\n\n  // Закриття меню при натисканні на клавішу Escape\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n      closeMenu();\n    }\n  });\n\n  // Закриття меню при кліку за межами\n  document.addEventListener('click', event => {\n    const isMenuOpen = mobileMenu.classList.contains('is-open');\n    const isClickInsideMenu = mobileMenu.contains(event.target);\n    const isClickOnMenuButton = openMenuBtn.contains(event.target);\n\n    if (isMenuOpen && !isClickInsideMenu && !isClickOnMenuButton) {\n      closeMenu();\n    }\n  });\n\n  // Закриття меню при зміні орієнтації на робочий стіл\n  window.matchMedia('(min-width: 1440px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    if (!mobileMenu.classList.contains('is-open')) return;\n    closeMenu();\n  });\n})();\n","import { getCategories, getFurnitures } from './furniture-api.js';\n\nconst listCategory = document.querySelector('.product-categories-list');\nconst paginationContainer = document.querySelector('.pagination');\nconst BtnMoreItems = document.querySelector('.btn-loadMore');\n\nconst ALL_CATEGORY_TEXT = 'Всі товари';\n\nlet NowPages = 1;\nlet totalItemspages = 1;\nlet currentCategoryId = null;\n\nexport function activeFirstCategory() {\n  const firstCategory = document.querySelector('.product-categories-content');\n  if (firstCategory) {\n    firstCategory.classList.add('active-category');\n  }\n}\n\nexport function activeCategory(event) {\n  const activeItem = event.target.closest('.product-categories-content');\n  activeItem.classList.add('active-category');\n}\n\nexport function removeActiveCategory() {\n  const activeCategory = document.querySelector('.active-category');\n  if (activeCategory) {\n    activeCategory.classList.remove('active-category');\n  }\n}\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      (el, index) => `<li class=\"product-categories-item\" data-id=\"${el._id}\">\n  <img\n    class=\"product-categories-img\"\n    srcset=\"\n                  ./img/category-imgs/category-img-${index + 1}.webp    1x,\n                  ./img/category-imgs/category-img-${index + 1}@2x.webp 2x\n                \"\n    src=\"./img/category-imgs/category-img-${index + 1}.webp\"\n    alt=\"${el.name}\"\n  />\n  <div class=\"product-categories-content\">\n    <p class=\"product-categories-descr\">${el.name}</p>\n  </div>\n</li>`\n    )\n    .join('');\n\n  listCategory.innerHTML = markup;\n}\n\nexport async function getAllCategories() {\n  try {\n    const data = await getCategories();\n    renderCategories([\n      { name: ALL_CATEGORY_TEXT, _id: '78fa12bc34de56f7890a1b35' },\n      ...data,\n    ]);\n    activeFirstCategory();\n  } catch (error) {\n    return [];\n  }\n}\n\nexport function getOneCategory(e) {\n  const categoryItem = e.target.closest('.product-categories-item');\n  if (!categoryItem) return;\n  const categoryName = categoryItem.textContent.trim();\n  const categoryId = categoryItem.dataset.id;\n\n  NowPages = 1;\n\n  removeActiveCategory();\n  activeCategory(e);\n\n  if (categoryName === ALL_CATEGORY_TEXT) {\n    currentCategoryId = null;\n    createProductsList(getFurnitures(1, 8));\n  } else {\n    currentCategoryId = categoryId;\n    createProductsList(getFurnitures(1, 8, categoryId));\n  }\n}\n\nlistCategory.addEventListener('click', getOneCategory);\n\nasync function createProductsList(functions = getFurnitures(NowPages, 8)) {\n  showLoader() // [5] Скрываем лоадер перед загрузкой товаров\n  const productsList = document.querySelector('.products-list');\n  const productsContainer = document.querySelector('.pagination');\n  productsContainer.innerHTML = ''; // Очищаем контейнер пагинации\n  const isMobiles = window.matchMedia('(max-width: 767px)').matches;\n\n\n  try {\n    const data = await functions;\n    if (!isMobiles) {\n    // Очищаем список и пагинацию перед загрузкой (только для ПК/планшета)\n    productsList.style.opacity = 0;\n    productsList.innerHTML = '';\n    if (productsContainer) productsContainer.innerHTML = '';\n  }\n    productsList.style.opacity = 1;\n    hideLoader() // [5] Скрываем лоадер перед загрузкой товаров\n    const furnitures = data.furnitures || data;\n    totalItemspages = Math.ceil(data.totalItems / 8); // [2] Рассчитываем всего страниц\n\n    if (furnitures && furnitures.length) {\n      furnitures.forEach(furniture => {\n        const productItem = document.createElement('div');\n        productItem.className = 'product-item';\n        productItem.setAttribute('data-id', furniture._id);\n\n        productItem.innerHTML = `\n          <img src=\"${furniture.images[0]}\" alt=\"${\n          furniture.name\n        }\" class=\"img-card\" width=\"100%\" height=\"256px\" />\n          <p class=\"text-card\">${furniture.name}</p>\n          <div class=\"colors\">\n            ${furniture.color\n              .map(\n                c =>\n                  `<span class=\"color-one\" style=\"background-color:${c};\"></span>`\n              )\n              .join('')}\n          </div>\n          <p class=\"text-card\">${furniture.price} грн</p>\n          <button class=\"btn btn-go-modal\">Детальніше</button>\n        `;\n\n        productsList.appendChild(productItem);\n        createPagination(totalItemspages);\n      });\n\n      createPagination(NowPages); // [3] Обновляем пагинацию\n      updatePaginationButtons(); // [4] Включаем/отключаем кнопки вперёд/назад\n    } else {\n      console.warn('Товари не знайдені.');\n    }\n  } catch (error) {\n    console.error('Помилка завантаження товарів:', error);\n    productsList.innerHTML = '<p>Помилка завантаження товарів.</p>';\n  }\n}\n\nfunction createPagination(NowPages) {\n  paginationContainer.innerHTML = ''; // Очищаем\n\n  // Кнопка \"Назад\"\n  paginationContainer.innerHTML += `\n    <button class=\"btn-prev scroll\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\" width=\"24px\" class=\"icon\">\n        <path d=\"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z\" />\n      </svg>\n    </button>\n  `;\n\nif (NowPages > 1) {\n    paginationContainer.innerHTML += `\n      <button class=\"page-number ${NowPages === 1 ? 'focus' : ''}\">1</button>\n    `;\n    paginationContainer.innerHTML += `<span class=\"dtp\" style=\"margin-right: 18px;\" >...</span>`;\n  }\n\n\n\n  // Текущая + 2 страницы (например: 8 9 10)\n  for (let i = NowPages; i <= Math.min(NowPages + 2, totalItemspages); i++) {\n    paginationContainer.innerHTML += `\n      <button class=\"page-number ${i === NowPages ? 'focus' : ''}\">${i}</button>\n    `;\n  }\n\n  // Если осталось больше страниц — многоточие и последняя\n  if (NowPages + 2 < totalItemspages) {\n    paginationContainer.innerHTML += `<span class=\"dtp\">...</span>`;\n    paginationContainer.innerHTML += `<button class=\"page-number last\">${totalItemspages}</button>`;\n  }\n\n  // Кнопка \"Вперёд\"\n  paginationContainer.innerHTML += `\n    <button class=\"btn-next scroll\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\" width=\"24px\" class=\"icon\">\n        <path d=\"M647-440H160v-80h487L423-744l57-56 320 320-320 320-57-56 224-224Z\" />\n      </svg>\n    </button>\n  `;\n}\n\nfunction showLoader() {\n  document.querySelector('.loader').classList.remove('visuallyhidden');\n}\nfunction hideLoader() {\n  document.querySelector('.loader').classList.add('visuallyhidden');\n}\nfunction updatePaginationButtons() {\n  const prevBtn = document.querySelector('.btn-prev');\n  const nextBtn = document.querySelector('.btn-next');\n\n  // Обработка \"Назад\"\n  if (NowPages === 1) {\n    prevBtn.classList.add('disabled');\n  } else {\n    prevBtn.classList.remove('disabled');\n  }\n\n  // Обработка \"Вперёд\"\n  if (NowPages >= totalItemspages) {\n    nextBtn.classList.add('disabled');\n  } else {\n    nextBtn.classList.remove('disabled');\n  }\n}\n\nfunction hideLoadMoreButton() {\n  if (NowPages >= totalItemspages) {\n    BtnMoreItems.style.display = 'none';\n  } else {\n    BtnMoreItems.style.display = 'inline';\n  }\n}\n\n// Обработка кликов по пагинации\n\ndocument.addEventListener('click', async event => {\n  let shouldScroll = false;\n\n  if (event.target.closest('.page-number')) {\n    const pageBtn = event.target.closest('.page-number');\n    const pageNumber = parseInt(pageBtn.textContent, 10);\n    if (!isNaN(pageNumber)) {\n      NowPages = pageNumber;\n      await createProductsList(getFurnitures(NowPages, 8));\n      setTimeout(() => {\n        document.querySelector('.products-list').scrollIntoView({\n          behavior: 'smooth',\n          block: 'end'\n        });\n      }, 300);\n    }\n  }\n\n  if (event.target.closest('.btn-next')) {\n    if (NowPages < totalItemspages) {\n      NowPages++;\n      await createProductsList(getFurnitures(NowPages, 8));\n      setTimeout(() => {\n        document.querySelector('.products-list').scrollIntoView({\n          behavior: 'smooth',\n          block: 'end'\n        });\n      }, 300);\n    }\n  }\n\n  if (event.target.closest('.btn-prev')) {\n    if (NowPages > 1) {\n      NowPages--;\n      await createProductsList(getFurnitures(NowPages, 8));\n      setTimeout(() => {\n        document.querySelector('.products-list').scrollIntoView({\n          behavior: 'smooth',\n          block: 'end'\n        });\n      }, 300);\n\n    }\n  }\n\n  BtnMoreItems.addEventListener('click', async () => {\n    if (NowPages < totalItemspages) {\n      NowPages++;\n      hideLoadMoreButton();\n      await createProductsList(getFurnitures(NowPages, 8));\n      setTimeout(() => {\n        document.querySelector('.products-list').scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }, 100);\n    }\n  });\n\n\n});\n\n// Инициализация\ndocument.addEventListener('DOMContentLoaded', () => {\n  getAllCategories();\n  createProductsList();\n});\n","import { getPopularFurnitures } from './furniture-api.js';\nimport { Swiper } from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nclass PopularProductsSwiper {\n  constructor() {\n    this.swiperContainer = document.querySelector('.popular-products-swiper');\n    this.swiperWrapper = document.querySelector(\n      '.popular-products-swiper .swiper-wrapper'\n    );\n    this.loader = document.querySelector('.popular-products-loader');\n\n    this.swiper = null;\n    this.products = [];\n\n    this.init();\n  }\n\n  async init() {\n    await this.loadProducts();\n    if (this.products.length >= 3) {\n      this.renderProducts();\n      this.initSwiper();\n    }\n  }\n\n  async loadProducts() {\n    this.showLoader();\n\n    try {\n      const data = await getPopularFurnitures();\n      if (data && data.furnitures && data.furnitures.length >= 3) {\n        this.products = data.furnitures;\n      } else {\n        this.showError('Недостатньо популярних товарів для відображення');\n      }\n    } catch (error) {\n      this.showError('Помилка завантаження популярних товарів');\n    } finally {\n      this.hideLoader();\n    }\n  }\n\n  renderProducts() {\n    const slides = this.products\n      .map(\n        product => `\n      <div class=\"swiper-slide\">\n        <div class=\"popular-products-item\" data-id=\"${product._id}\">\n          <img src=\"${product.images[0]}\" alt=\"${\n          product.name\n        }\" class=\"img-card\" />\n          <p class=\"text-card\">${product.name}</p>\n          <div class=\"colors\">\n            ${product.color\n              .map(\n                color =>\n                  `<span class=\"color-one\" style=\"background-color:${color};\"></span>`\n              )\n              .join('')}\n          </div>\n          <p class=\"text-card\">${product.price} грн</p>\n          <button class=\"btn btn-go-modal\">Детальніше</button>\n        </div>\n      </div>\n    `\n      )\n      .join('');\n\n    this.swiperWrapper.innerHTML = slides;\n  }\n\n  initSwiper() {\n    this.swiper = new Swiper('.popular-products-swiper', {\n      modules: [Navigation, Pagination],\n\n      // Количество слайдов в зависимости от экрана\n      slidesPerView: 1, // Мобильные - 1 товар\n      spaceBetween: 16,\n      centeredSlides: true, // Центрирование слайдов\n\n      // Breakpoints для responsive дизайна\n      breakpoints: {\n        // >= 768px (планшеты) - 2 товара\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 24,\n          centeredSlides: false, // Отключаем центрирование для планшетов и десктопа\n        },\n        // >= 1440px (десктоп) - 4 товара\n        1440: {\n          slidesPerView: 4,\n          spaceBetween: 24,\n          centeredSlides: false,\n        },\n      },\n\n      // Навигация\n      navigation: {\n        nextEl: '.popular-products-navigation .swiper-button-next',\n        prevEl: '.popular-products-navigation .swiper-button-prev',\n      },\n\n      // Пагинация\n      pagination: {\n        el: '.popular-products-pagination',\n        clickable: true,\n        type: 'bullets',\n        renderBullet: function (index, className) {\n          return '<span class=\"' + className + '\"></span>';\n        },\n      },\n\n      // Дополнительные настройки\n      loop: false,\n      watchOverflow: true,\n      watchSlidesProgress: true,\n\n      // Плавная анимация\n      speed: 300,\n\n      // Отключение автопрокрутки\n      autoplay: false,\n\n      // Touch события\n      touchRatio: 1,\n      touchAngle: 45,\n      grabCursor: true,\n\n      // Обновление при изменении размера\n      updateOnWindowResize: true,\n\n      // События\n      on: {\n        init: () => {\n          this.addCustomIcons();\n        },\n        slideChange: () => {\n          console.log('Slide changed');\n        },\n      },\n    });\n\n    // Обработчик клика на карточки товаров\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    this.swiperWrapper.addEventListener('click', e => {\n      const productItem = e.target.closest('.popular-products-item');\n      if (productItem && e.target.classList.contains('btn-go-modal')) {\n        const productId = productItem.dataset.id;\n        this.openProductModal(productId);\n      }\n    });\n\n    // Дополнительное обновление при изменении размера окна\n    window.addEventListener('resize', () => {\n      setTimeout(() => {\n        if (this.swiper) {\n          this.swiper.update();\n        }\n      }, 100);\n    });\n  }\n\n  addCustomIcons() {\n    // Swiper уже автоматически создает кнопки, просто добавляем иконки\n    setTimeout(() => {\n      const prevBtn = document.querySelector(\n        '.popular-products-navigation .swiper-button-prev'\n      );\n      const nextBtn = document.querySelector(\n        '.popular-products-navigation .swiper-button-next'\n      );\n\n      if (prevBtn && !prevBtn.querySelector('.popular-products-icon')) {\n        prevBtn.innerHTML = `\n          <svg class=\"popular-products-icon\" width=\"24\" height=\"24\">\n            <use href=\"./img/sprite.svg#left-arrow-alt\"></use>\n          </svg>\n        `;\n      }\n\n      if (nextBtn && !nextBtn.querySelector('.popular-products-icon')) {\n        nextBtn.innerHTML = `\n          <svg class=\"popular-products-icon\" width=\"24\" height=\"24\">\n            <use href=\"./img/sprite.svg#right-arrow-alt\"></use>\n          </svg>\n        `;\n      }\n    }, 100);\n  }\n\n  openProductModal(productId) {\n    // Интеграция с модальным окном\n    const modalEvent = new CustomEvent('openProductModal', {\n      detail: { productId },\n    });\n    document.dispatchEvent(modalEvent);\n\n    console.log('Открыть модальное окно для товара:', productId);\n  }\n\n  showLoader() {\n    this.loader.classList.remove('hidden');\n  }\n\n  hideLoader() {\n    this.loader.classList.add('hidden');\n  }\n\n  showError(message) {\n    this.swiperWrapper.innerHTML = `\n      <div class=\"swiper-slide\">\n        <p class=\"error-message\" style=\"text-align: center; padding: 40px; color: #666;\">${message}</p>\n      </div>\n    `;\n  }\n\n  // Методы для программного управления\n  slideNext() {\n    if (this.swiper) {\n      this.swiper.slideNext();\n    }\n  }\n\n  slidePrev() {\n    if (this.swiper) {\n      this.swiper.slidePrev();\n    }\n  }\n\n  // Уничтожение инстанса при необходимости\n  destroy() {\n    if (this.swiper) {\n      this.swiper.destroy(true, true);\n      this.swiper = null;\n    }\n  }\n}\n\n// Инициализация при загрузке DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n  new PopularProductsSwiper();\n});\n\n// Экспорт для возможного использования в других модулях\nexport default PopularProductsSwiper;\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\n// Ждем загрузки DOM перед инициализацией\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.querySelectorAll('.faq-question').forEach(question => {\n    question.addEventListener('click', () => {\n      const answer = question.nextElementSibling;\n      const svgUse = question.querySelector('use');\n      const isOpen = answer.classList.contains('open');\n\n      if (isOpen) {\n        // Закрываем текущий элемент\n        answer.classList.remove('open');\n        if (svgUse) {\n          const currentHref = svgUse.getAttribute('href');\n          if (currentHref) {\n            const basePath = currentHref.split('#')[0];\n            svgUse.setAttribute('href', `${basePath}#chevron-down`);\n          }\n        }\n      } else {\n        // Сначала закрываем все остальные элементы\n        document.querySelectorAll('.faq-question').forEach(otherQuestion => {\n          if (otherQuestion !== question) {\n            const otherAnswer = otherQuestion.nextElementSibling;\n            const otherSvgUse = otherQuestion.querySelector('use');\n\n            if (otherAnswer.classList.contains('open')) {\n              otherAnswer.classList.remove('open');\n\n              if (otherSvgUse) {\n                const currentHref = otherSvgUse.getAttribute('href');\n                if (currentHref) {\n                  const basePath = currentHref.split('#')[0];\n                  otherSvgUse.setAttribute('href', `${basePath}#chevron-down`);\n                }\n              }\n            }\n          }\n        });\n\n        // Открываем текущий элемент\n        answer.classList.add('open');\n        if (svgUse) {\n          const currentHref = svgUse.getAttribute('href');\n          if (currentHref) {\n            const basePath = currentHref.split('#')[0];\n            svgUse.setAttribute('href', `${basePath}#chevron-up`);\n          }\n        }\n      }\n    });\n  });\n});\n","// На вибір\nimport { Swiper } from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\n// Виправлений імпорт css-star-rating\nimport 'css-star-rating/css/star-rating.min.css';\n\nimport { getFeedbacks } from './furniture-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction normalizeRating(value) {\n  if (value >= 3.3 && value <= 3.7) return 3.5;\n  if (value >= 3.8 && value <= 4.2) return 4;\n  return Math.round(value * 2) / 2;\n}\n\nfunction createStarRating(rating) {\n  const normalizedRating = normalizeRating(rating);\n  const fullStars = Math.floor(normalizedRating);\n  const hasHalfStar = normalizedRating % 1 !== 0;\n  const emptyStars = 5 - Math.ceil(normalizedRating);\n\n  let starsHtml = '';\n\n  // Повні зірки\n  for (let i = 0; i < fullStars; i++) {\n    starsHtml += '<span class=\"star star-full\">★</span>';\n  }\n\n  // Половинна зірка\n  if (hasHalfStar) {\n    starsHtml += '<span class=\"star star-half\">★</span>';\n  }\n\n  // Порожні зірки\n  for (let i = 0; i < emptyStars; i++) {\n    starsHtml += '<span class=\"star star-empty\">★</span>';\n  }\n\n  return `<div class=\"rating-stars\" data-rating=\"${normalizedRating}\">${starsHtml}</div>`;\n}\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  try {\n    const response = await getFeedbacks(1, 10);\n\n    if (\n      !response ||\n      !Array.isArray(response.feedbacks) ||\n      response.feedbacks.length === 0\n    ) {\n      iziToast.warning({\n        title: 'Увага',\n        message: 'Відгуки відсутні або дані некоректні.',\n        position: 'topRight',\n        timeout: 4000,\n      });\n      return;\n    }\n\n    renderFeedbacks(response.feedbacks);\n    initSwiper();\n  } catch (err) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити відгуки. Спробуйте оновити сторінку.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n  }\n});\n\nfunction renderFeedbacks(feedbacks) {\n  const container = document.querySelector('.reviews .swiper-wrapper');\n\n  if (!container) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Контейнер для відгуків не знайдено.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return;\n  }\n\n  const slidesHTML = feedbacks\n    .map(\n      fb => `\n        <div class=\"swiper-slide\">\n            <div class=\"review-card\">\n                ${createStarRating(fb.rate)}\n                <p class=\"review-text\">\"${fb.descr}\"</p>\n                <h3 class=\"reviewer-name\">${fb.name}</h3>\n            </div>\n        </div>\n    `\n    )\n    .join('');\n\n  container.innerHTML = slidesHTML;\n}\n\nfunction initSwiper() {\n  try {\n    const swiperElement = document.querySelector('.reviews .swiper');\n\n    if (!swiperElement) {\n      iziToast.error({\n        title: 'Помилка',\n        message: 'Елемент слайдера відгуків не знайдено.',\n        position: 'topRight',\n        timeout: 4000,\n      });\n      return;\n    }\n\n    const swiper = new Swiper('.reviews .swiper', {\n      modules: [Navigation, Pagination],\n\n      slidesPerView: 1,\n      spaceBetween: 20,\n      loop: false,\n\n      navigation: {\n        nextEl: '.reviews .swiper-button-next',\n        prevEl: '.reviews .swiper-button-prev',\n      },\n\n      pagination: {\n        el: '.reviews .swiper-pagination',\n        clickable: true,\n      },\n\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 20,\n        },\n        1440: {\n          slidesPerView: 3,\n          spaceBetween: 20,\n        },\n      },\n\n      on: {\n        init: function () {\n          updateNavigationButtons(this);\n        },\n        slideChange: function () {\n          updateNavigationButtons(this);\n        },\n      },\n    });\n  } catch (err) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося ініціалізувати слайдер відгуків.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n  }\n}\n\nfunction updateNavigationButtons(swiper) {\n  const prevBtn = document.querySelector('.reviews .swiper-button-prev');\n  const nextBtn = document.querySelector('.reviews .swiper-button-next');\n\n  if (prevBtn) {\n    prevBtn.classList.toggle('swiper-button-disabled', swiper.isBeginning);\n  }\n  if (nextBtn) {\n    nextBtn.classList.toggle('swiper-button-disabled', swiper.isEnd);\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport { createOrder } from './furniture-api';\n// Regular expressions for email and phone validation\nconst EMAIL_REGEX = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\nconst PHONE_REGEX = /^[0-9]{12}$/;\n\nlet selectedModelId = null;\nlet selectedColor = null;\nlet orderBackdrop = null;\nlet orderForm = null;\nlet closeBtn = null;\n\nconst orderCloseButton = document.querySelector('.close-btn');\nconsole.log(orderCloseButton);\n\norderCloseButton.addEventListener('click', () => {\n  orderBackdrop.classList.add('visuallyhidden');\n  document.body.style.overflow = '';\n});\n\n// Function to initialize DOM elements\nfunction initializeElements() {\n  orderBackdrop = document.getElementById('order-backdrop');\n  orderForm = document.querySelector('.order-form');\n  // closeBtn = document.querySelector('.order-modal .close-btn');\n  closeBtn = document.querySelector('.close-btn');\n}\n\n// Function to open the order modal\nexport function openOrderModal(modelId, color) {\n  orderBackdrop.classList.remove('visuallyhidden');\n  // Убедимся, что элементы инициализированы\n  if (!orderBackdrop) {\n    initializeElements();\n  }\n\n  if (orderBackdrop) {\n    // orderBackdrop.classList.remove('visuallyhidden');\n    document.body.style.overflow = 'hidden';\n    selectedModelId = modelId;\n    selectedColor = color;\n  }\n}\n\n// Function to close the order modal\nconst closeOrderModal = () => {\n  if (orderBackdrop) {\n    orderBackdrop.classList.add('visuallyhidden');\n    document.body.style.overflow = '';\n  }\n  if (orderForm) {\n    orderForm.reset();\n  }\n};\n\nconst handleCloseClick = event => {\n  if (event.target === orderBackdrop || event.target === closeBtn) {\n    closeOrderModal();\n  }\n};\n\nconst handleKeydown = event => {\n  if (\n    event.key === 'Escape' &&\n    orderBackdrop &&\n    !orderBackdrop.classList.contains('visuallyhidden')\n  ) {\n    closeOrderModal();\n  }\n};\n\n// Form submission handler\nasync function handleFormSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(orderForm);\n  const data = Object.fromEntries(formData);\n\n  data.modelId = selectedModelId;\n  data.color = selectedColor;\n\n  if (!EMAIL_REGEX.test(data.email)) {\n    iziToast.error({\n      title: 'Validation Error',\n      message: 'Please enter a valid E-mail address.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  if (!PHONE_REGEX.test(data.phone)) {\n    iziToast.error({\n      title: 'Validation Error',\n      message:\n        'Please enter a valid 12-digit phone number (e.g., 380961234568).',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  if (!data.modelId || !data.color) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Could not get furniture details. Please try again.',\n      position: 'topRight',\n    });\n    return;\n  }\n  console.log('order data', data);\n\n  createOrder(data);\n}\n\n// Инициализация обработчиков событий после загрузки DOM\nfunction initializeEventListeners() {\n  initializeElements();\n\n  if (orderForm) {\n    orderForm.addEventListener('submit', handleFormSubmit);\n  }\n\n  if (orderBackdrop) {\n    orderBackdrop.addEventListener('click', handleCloseClick);\n  }\n\n  document.addEventListener('keydown', handleKeydown);\n}\n\n// Запускаем инициализацию после загрузки DOM\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initializeEventListeners);\n} else {\n  // DOM уже загружен\n  initializeEventListeners();\n}\n","export default \"__VITE_ASSET__D3LZ2Ejb__\"","// Описана робота модалки - відкриття закриття і все що з модалкою пов'язано\nimport axios from 'axios';\nimport { getFurnitureById } from './furniture-api.js';\nimport { openOrderModal } from './order.js';\nimport spriteUrl from '../img/sprite.svg';\n\n// Імпортуємо css-star-rating\nimport 'css-star-rating/css/star-rating.min.css';\n\nconst modalSelector = document.querySelector('.modal-window');\nconst productsList = document.querySelector('.products-list');\n\nlet dataId = 0;\nlet selectedColor = '';\n\n// Функція нормалізації рейтингу (така ж як в reviews)\nfunction normalizeRating(value) {\n  if (value >= 3.3 && value <= 3.7) return 3.5;\n  if (value >= 3.8 && value <= 4.2) return 4;\n  return Math.round(value * 2) / 2;\n}\n\n// Функція створення рейтингу зірочками (така ж як в reviews)\nfunction createStarRating(rating) {\n  const normalizedRating = normalizeRating(rating);\n  const fullStars = Math.floor(normalizedRating);\n  const hasHalfStar = normalizedRating % 1 !== 0;\n  const emptyStars = 5 - Math.ceil(normalizedRating);\n\n  let starsHtml = '';\n\n  // Повні зірки\n  for (let i = 0; i < fullStars; i++) {\n    starsHtml += '<span class=\"star star-full\">★</span>';\n  }\n\n  // Половинна зірка\n  if (hasHalfStar) {\n    starsHtml += '<span class=\"star star-half\">★</span>';\n  }\n\n  // Порожні зірки\n  for (let i = 0; i < emptyStars; i++) {\n    starsHtml += '<span class=\"star star-empty\">★</span>';\n  }\n\n  return `<div class=\"modal-rating-stars\" data-rating=\"${normalizedRating}\">${starsHtml}</div>`;\n}\n\n// Налаштування кнопки замовлення в модалці\nfunction setupModalButton() {\n  const modalButton = document.querySelector('.modalButton');\n  if (modalButton) {\n    modalButton.addEventListener('click', function () {\n      // Приховати поточну модалку\n      modalSelector.classList.add('visuallyhidden');\n      document.body.style.overflow = ''; // відновити прокрутку\n\n      openOrderModal(dataId, selectedColor);\n    });\n  }\n}\n\n// Загальна функція для відкриття модального вікна\nasync function openProductModal(productId) {\n  document.body.style.overflow = 'hidden'; // заборонити прокрутку\n  modalSelector.classList.remove('visuallyhidden'); // показати модалку\n\n  dataId = productId;\n\n  // Отримати товар за ID\n  const furniture = await getFurnitureById(dataId);\n\n  const renderProduct = renderModal(furniture);\n  modalSelector.innerHTML = renderProduct;\n\n  // Додати обробник вибору кольору після рендерингу модалки\n  const colorInputs = document.querySelectorAll(\n    'input[name=\"furniture-color\"]'\n  );\n\n  // Встановити колір за замовчуванням (перший колір)\n  if (colorInputs.length > 0) {\n    colorInputs[0].checked = true;\n    selectedColor = colorInputs[0].value;\n  }\n\n  // Слухати зміни кольору\n  colorInputs.forEach(input => {\n    input.addEventListener('change', function () {\n      selectedColor = this.value;\n    });\n  });\n\n  // Налаштувати кнопку модалки\n  setupModalButton();\n}\n\n// Обробник для популярних товарів через custom events\ndocument.addEventListener('openProductModal', function (event) {\n  const productId = event.detail.productId;\n  openProductModal(productId);\n});\n\n// Обробник для звичайних товарів\nif (productsList) {\n  productsList.addEventListener('click', async function (event) {\n    if (event.target.matches('img, button')) {\n      const productItem = event.target.closest('.product-item'); // селектор для найближчої картки товару\n\n      if (productItem) {\n        const productId = productItem.getAttribute('data-id');\n        await openProductModal(productId);\n      }\n    }\n  });\n}\n\n// Обробник для популярних товарів - прямий клік\nconst popularProductsContainer = document.querySelector(\n  '.popular-products-swiper'\n);\nif (popularProductsContainer) {\n  popularProductsContainer.addEventListener('click', async function (event) {\n    // Перевіряємо клік на зображення або кнопку\n    if (event.target.matches('img.img-card, button.btn-go-modal')) {\n      const productItem = event.target.closest('.popular-products-item');\n\n      if (productItem) {\n        const productId = productItem.getAttribute('data-id');\n        await openProductModal(productId);\n      }\n    }\n  });\n}\n\nfunction renderModal(furniture) {\n  return `\n  <div class=\"product-modalWindow\">\n    <div class=\"modal-left\">\n      <img class=\"modal-image-0\" src=\"${furniture.images[0]}\" alt=\"${\n    furniture.description\n  }\" />\n      <div class=\"modal-bottom-row\">\n        <img class=\"modal-image-1\" src=\"${furniture.images[1]}\" alt=\"${\n    furniture.description\n  }\" />\n        <img class=\"modal-image-2\" src=\"${furniture.images[2]}\" alt=\"${\n    furniture.description\n  }\" />\n      </div>\n    </div>\n    <div class=\"modal-right\">\n      <h2 class=\"product-modal-title\">${furniture.name}</h2>\n      <p class=\"modal-description\">${furniture.category.name}</p>\n      <div class=\"description-container\">\n        <div class=\"modal-price-rating\">\n          <h3 class=\"modal-price\">${furniture.price} грн</h3>\n          ${createStarRating(furniture.rate)}\n        </div>\n        <div class=\"color-options\">\n          <p class=\"color-label\">Колір</p>\n          <div class=\"radio-group\">\n            <div class=\"radio-wrapper\">\n              <input type=\"radio\" id=\"color1\" name=\"furniture-color\" value=\"${\n                furniture.color[0]\n              }\" class=\"color-radio\" />\n              <label for=\"color1\" class=\"color-circle\" style=\"background-color: ${\n                furniture.color[0]\n              }\"></label>\n            </div>\n            <div class=\"radio-wrapper\">\n              <input type=\"radio\" id=\"color2\" name=\"furniture-color\" value=\"${\n                furniture.color[1]\n              }\" class=\"color-radio\" />\n              <label for=\"color2\" class=\"color-circle\" style=\"background-color: ${\n                furniture.color[1]\n              }\"></label>\n            </div>\n            <div class=\"radio-wrapper\">\n              <input type=\"radio\" id=\"color3\" name=\"furniture-color\" value=\"${\n                furniture.color[2]\n              }\" class=\"color-radio\" />\n              <label for=\"color3\" class=\"color-circle\" style=\"background-color: ${\n                furniture.color[2]\n              }\"></label>\n            </div>\n          </div>\n        </div>\n        <p class=\"furnitureDescription\">${furniture.description}</p>\n        <p class=\"furnitureSize\">${furniture.sizes}</p>\n        <button class=\"modalButton\">Перейти до замовлення</button>\n      </div>\n    </div>\n    <button type=\"button\" class=\"modal-close-btn\" >\n        <svg class=\"close-icon\" width=\"14\" height=\"14\">\n          \n          <use href=\"${spriteUrl}#icon-close\"/>\n        </svg>\n      </button>\n  </div>`;\n}\n\n// Логіка закриття модалки\nmodalSelector.addEventListener('click', function (event) {\n  const modalWindow = event.target.closest('.product-modalWindow');\n  const clickOnCloseModalButton = event.target.closest('.modal-close-btn');\n\n  if (!modalWindow) {\n    // Клік був поза модальним вікном\n    modalSelector.classList.add('visuallyhidden');\n    document.body.style.overflow = ''; // увімкнути прокрутку\n  }\n  if (clickOnCloseModalButton) {\n    modalSelector.classList.add('visuallyhidden');\n    document.body.style.overflow = ''; // увімкнути прокрутку\n  }\n});\n\nfunction closeModalWindow() {\n  modalSelector.classList.add('visuallyhidden');\n  document.body.style.overflow = ''; // увімкнути прокрутку\n}\n\n// Закриття модалки при натисканні Escape\ndocument.addEventListener('keydown', event => {\n  if (\n    event.key === 'Escape' &&\n    !modalSelector.classList.contains('visuallyhidden')\n  ) {\n    modalSelector.classList.add('visuallyhidden');\n    document.body.style.overflow = ''; // увімкнути прокрутку\n  }\n});\n"],"names":["BASE_URL","ENDPOINTS","api","axios","getFurnitures","page","limit","category","iziToast","getFurnitureById","id","totalItems","totalPages","data","furnitures","furniture","item","error","getCategories","getFeedbacks","createOrder","orderInfo","response","getPopularFurnitures","mobileMenu","openMenuBtn","burgerIcon","menuLinks","getSpritePath","closeMenu","spritePath","openMenu","toggleMenu","link","event","isMenuOpen","isClickInsideMenu","isClickOnMenuButton","e","listCategory","paginationContainer","BtnMoreItems","ALL_CATEGORY_TEXT","NowPages","totalItemspages","activeFirstCategory","firstCategory","activeCategory","removeActiveCategory","renderCategories","markup","el","index","getAllCategories","getOneCategory","categoryItem","categoryName","categoryId","createProductsList","functions","showLoader","productsList","productsContainer","isMobiles","hideLoader","productItem","c","createPagination","updatePaginationButtons","i","prevBtn","nextBtn","hideLoadMoreButton","pageBtn","pageNumber","PopularProductsSwiper","slides","product","color","Swiper","Navigation","Pagination","className","productId","modalEvent","message","question","answer","svgUse","currentHref","basePath","otherQuestion","otherAnswer","otherSvgUse","normalizeRating","value","createStarRating","rating","normalizedRating","fullStars","hasHalfStar","emptyStars","starsHtml","renderFeedbacks","initSwiper","feedbacks","container","slidesHTML","fb","swiper","updateNavigationButtons","EMAIL_REGEX","PHONE_REGEX","selectedModelId","selectedColor","orderBackdrop","orderForm","closeBtn","orderCloseButton","initializeElements","openOrderModal","modelId","closeOrderModal","handleCloseClick","handleKeydown","handleFormSubmit","formData","initializeEventListeners","spriteUrl","modalSelector","dataId","setupModalButton","modalButton","openProductModal","renderProduct","renderModal","colorInputs","input","popularProductsContainer","modalWindow","clickOnCloseModalButton"],"mappings":"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"}